Author: Levin
Date: 2019-05-22 16:28
disqus_identifier: 201905221628
Slug: computer-networks-book-report-part3
Title: 《计算机网络》读书笔记整理（3）-- 数据链路层
Category: Network
Tags: network, book report

数据链路层把网络层交下来的数据构成帧发送到链路上，以及把接收到的帧中的数据取出并上交给网络层。数据链路层使用的信道有两种类型：点对点信道和广播信道。

数据链路层不必考虑物理层如何实现比特传输。可以简单地设想好像是沿着两个数据链路层之间的水平方向把帧直接发送到对方。

数据链路层的工作：

* 封装成帧，在数据前后添加首部和尾部封装起来传输
* 透明传输，帧里的数据应该是原样地发送和接收，使用字节填充法解决透明传输的问题
* 差错检测，目前广泛使用了循环冗余检验（CRC，Cyclic Redundancy Check）来生成帧检验序列（FCS，Frame Check Sequence）。

点对点协议（PPP）是点对点的链路使用的协议。PPP协议必须提供一种机制使通信的两个实体能协商知道或能配置彼此的网络层地址。例如，个人电脑向ISP发送一系列的链路控制协议LCP分组，建立LCP连接，接着进入鉴别状态。鉴别成功后，网络控制协议NCP给新接入的用户分配一个临时的IP地址。

局域网按网络拓扑进行分类：星形网、环形网、总线网。局域网属于数据链路层的范围。在局域网中硬件地址又称为物理地址或MAC地址，48位，固化在网络适配器的ROM中。

共享信道为了使多个用户合理方便地共享通信媒体，有两种实现方法：静态划分、动态媒体接入控制（多点接入）。多点接入又分为随机接入和受控接入。局域网主要使用随机接入。

最早的以太网为总线网，在同一时间只能允许一台计算机发送数据。使用CSMA/CD协议（载波监听多点接入/碰撞检测），发送的数据使用曼彻斯特编码的信号，在发送信号时，必须边发送边监听信道。使用CSMA/CD协议的以太网进行的是双向交替通信。后来大部分以太网的拓扑由总线型变为了星形拓扑，由集线器进行连接。

后来出现了以太网交换机。交换机每个接口都直接与单台主机或另一个交换机相连，一般工作在全双工方式，并能使多对主机同时通信。相互通信的主机都是独占传输媒体，无碰撞地传输数据。对比传统的共享式以太网，交换式以太网转发速率快且每个用户通信独占带宽，因此交换式以太网逐渐普及。交换机是即插即用设备，内部的地址表通过自学习算法自动地逐渐建立起来。

为了防止交换机自学习过程中在网络中的某个环路无限制地兜圈子，有一个生成树协议（STP，Spanning Tree Protocol），不改变网络拓扑的前提下逻辑上切断某些链路，使得一台主机到其它所有主机的路径是无环路的树状结构。

使用交换机可以实现虚拟局域网（VLAN），每一个VLAN的帧都有一个明确的标识符，指明发送这个帧的主机属于哪个VLAN。

为了使用以太网进行带宽进入互联网，需要有鉴别用户身份的过程。PPPoE是为宽带上网的主机使用的链路层协议，这个协议把PPP帧再封装在以太网帧中，达到鉴别身份的目的。

PPP协议传送的是PPP帧，以太网中传送的是以太网帧。

---

参考文献：  
[1] 谢希仁. [计算机网络（第7版）](https://www.bicky.me/url.html#https://book.douban.com/subject/26960678/)[M]. 北京：电子工业出版社，2017.

